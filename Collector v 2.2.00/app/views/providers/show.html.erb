<title>Providers assigned to Client: <%= params[:patient_name] %></title>

<div data-role="header" data-position="fixed">
  <div data-role="navbar">
    <ul>
      <li><%= link_to 'Back', av_show_all_patients_path, :class => 'ui-btn ui-btn-icon-bottom ui-icon-back' %></li>
      <li><%= link_to 'Info', request.original_url+'#nav-panel', :class => 'ui-btn ui-btn-icon-bottom ui-icon-info' %></li>
      <li><%= link_to 'Home', admin_home_path, :class => 'ui-btn ui-btn-icon-bottom ui-icon-home' %></li>
      <li><%= link_to 'Logout', log_out_path, :class => 'ui-btn ui-btn-icon-bottom ui-icon-power' %></li>
    </ul>
  </div>
</div>

<div data-role="content">
  <center><h2>Providers assigned to Client: <%= params[:patient_name] %></h2></center>

  <% if @provider_show_array != nil %>
      <% @provider_show_array.each do |p| %>
          <div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-expanded-icon="carat-u" data-iconpos="right">
            <h4><%= p.provider_name %></h4>
            <ul data-role="listview" data-theme="a" style="opacity: 0.5;">
              <li><%= link_to 'Remove', delete_patientprovider_path(p.id, params[:patient_id]), data: {confirm: 'Are you sure you wish to unassign provider: '+p.provider_name+ ' to Client: '+params[:patient_name]} %></li>
            </ul>
          </div>
      <% end %>
  <% else %>
      <h3>None</h3>
  <% end %>
</div>

<div data-role="footer" data-position="fixed">
  <div data-role="navbar">
    <ul>
      <li><%= link_to 'Add new provider', av_show_all_providers_to_add_to_patient_path(params[:patient_name], params[:patient_id]), :class => 'ui-btn ui-btn-icon-bottom ui-icon-plus' %></li>
    </ul>
  </div>
</div>

<div data-role="panel" data-position-fixed="true" data-display="push" data-theme="b" id="nav-panel">
  <a href="#" data-icon="delete" data-rel="close">Close</a>
  <li>Press a providers name to list the available options.</li>
  <li>Select remove to unnasign the client from the provider.</li>
  <li>Select add new provider to assign the client to an additionsl provider.</li>
</div>